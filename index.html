<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced GB/CE Algo Termination Tracker</title>
    <style>
        /* Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù…Ø§ØªØ±ÙŠÙƒØ³ Ø§Ù„Ø£ØµÙ„ÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; overflow: auto; }
        body { font-family: 'Courier New', monospace; background: #000; color: #0f0; min-height: 100vh; display: flex; flex-direction: column; }
        .matrix-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(0deg, transparent 24%, rgba(0, 255, 0, .05) 25%, rgba(0, 255, 0, .05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 0, .05) 75%, rgba(0, 255, 0, .05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(0, 255, 0, .05) 25%, rgba(0, 255, 0, .05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 0, .05) 75%, rgba(0, 255, 0, .05) 76%, transparent 77%, transparent); background-size: 50px 50px; z-index: -1; animation: matrix-move 20s linear infinite; }
        @keyframes matrix-move { 0% { background-position: 0 0; } 100% { background-position: 50px 50px; } }
        .header { text-align: center; padding: 15px; background: rgba(0, 0, 0, 0.9); border-bottom: 2px solid #0f0; box-shadow: 0 0 20px rgba(0, 255, 0, 0.5); }
        h1 { font-size: clamp(1.2em, 4vw, 2em); text-shadow: 0 0 10px #0f0; margin-bottom: 10px; animation: glow-pulse 2s ease-in-out infinite; }
        @keyframes glow-pulse { 0%, 100% { text-shadow: 0 0 10px #0f0; } 50% { text-shadow: 0 0 20px #0f0, 0 0 30px #0f0; } }
        .main-container { display: flex; flex: 1; padding: 20px; gap: 20px; overflow: auto; flex-direction: column; }
        @media (min-width: 1024px) { .main-container { flex-direction: row; } }
        .panel { background: rgba(0, 0, 0, 0.95); border: 2px solid #0f0; border-radius: 10px; padding: 15px; }
        .timezone-row { display: flex; justify-content: space-between; align-items: center; padding: 8px; margin: 8px 0; background: rgba(0, 20, 0, 0.8); border: 1px solid #0f0; border-radius: 5px; }
        .confluence-item { padding: 10px; margin: 5px 0; background: rgba(0, 50, 0, 0.5); border-left: 3px solid #0f0; border-radius: 3px; font-size: 0.9em; }
        .is-now { background: rgba(0, 255, 0, 0.2); border: 1px solid #0f0; box-shadow: 0 0 10px #0f0; }
        .algo-termination { border-left-color: #ff0000; background: rgba(255, 0, 0, 0.1); }
        .gb { color: #0f0; } .ce { color: #ff0; }
    </style>
</head>
<body>
    <div class="matrix-bg"></div>
    <div class="header">
        <h1>ğŸ”® GB/CE FULL DAY TRACKER ğŸ”®</h1>
        <div id="live-clock" style="color: #ff0; font-size: 1.2em;">TIME: <span id="live-time">--:--:--</span> <span style="color:#f00; animation:blink 1s infinite;">â— LIVE</span></div>
    </div>

    <div class="main-container">
        <div style="flex: 1; display: flex; flex-direction: column; gap: 20px;">
            <div class="panel">
                <h3>â° DUAL TIME SYSTEM</h3>
                <div class="timezone-row">
                    <span>NEW YORK</span>
                    <span id="ny-val" style="font-weight:bold; font-size:1.4em;">--:--</span>
                </div>
                <div class="timezone-row">
                    <span>ZURICH</span>
                    <span id="zh-val" style="font-weight:bold; font-size:1.4em;">--:--</span>
                </div>
            </div>
            
            <div class="panel">
                <h3>ğŸ“– REFERENCE NUMBERS</h3>
                <p style="font-size:0.8em; color:#0ff;">GB: 0, 3, 11, 17, 29, 41, 47, 50, 53, 59, 71, 83, 89, 97, 100</p>
                <p style="font-size:0.8em; color:#ff0;">CE: 7, 14, 23, 35, 44, 56, 65, 77</p>
            </div>
        </div>

        <div style="width: 100%; max-width: 450px;">
            <div class="panel" style="max-height: 85vh; overflow-y: scroll;">
                <h3>âš¡ FULL DAY ALGO SCAN (00:00 - 23:59)</h3>
                <div id="full-day-list"></div>
            </div>
        </div>
    </div>

    <script>
        const gbNumbers = [0, 3, 11, 17, 29, 41, 47, 50, 53, 59, 71, 83, 89, 97, 100];
        const ceNumbers = [7, 14, 23, 35, 44, 56, 65, 77];
        const algoEnd = [29, 35, 71, 77];

        const isGB = n => gbNumbers.includes(Math.abs(n));
        const isCE = n => ceNumbers.includes(Math.abs(n));
        const isAlgoEnd = n => algoEnd.includes(Math.abs(n));

        function getAnalysis(date, tz) {
            const parts = new Intl.DateTimeFormat('en-GB', {
                timeZone: tz, hour: '2-digit', minute: '2-digit', hour12: false
            }).formatToParts(date);
            const h = parseInt(parts.find(p => p.type === 'hour').value);
            const m = parseInt(parts.find(p => p.type === 'minute').value);
            return { h, m, sum: h + m, diff: Math.abs(m - h), time: `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}` };
        }

        function update() {
            const now = new Date();
            document.getElementById('live-time').textContent = now.toLocaleTimeString('en-GB');

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            const nyCurr = getAnalysis(now, 'America/New_York');
            const zhCurr = getAnalysis(now, 'Europe/Zurich');
            document.getElementById('ny-val').textContent = nyCurr.time;
            document.getElementById('zh-val').textContent = zhCurr.time;

            // Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙŠÙˆÙ… ÙƒØ§Ù…Ù„ (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø£Ùˆ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«)
            const list = document.getElementById('full-day-list');
            let html = '';
            
            // Ø§Ù„Ù…Ø³Ø­ Ù„ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø© ÙÙŠ Ø§Ù„ÙŠÙˆÙ… (1440 Ø¯Ù‚ÙŠÙ‚Ø©)
            const startOfDay = new Date(now);
            startOfDay.setHours(0, 0, 0, 0);

            for (let i = 0; i < 1440; i++) {
                const scanTime = new Date(startOfDay.getTime() + (i * 60000));
                const data = getAnalysis(scanTime, 'America/New_York');
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆÙ‚Øª Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ­Ù‚Ù‚ Ø§Ù„Ø´Ø±ÙˆØ·
                if (isGB(data.sum) || isCE(data.sum) || isGB(data.diff) || isCE(data.diff)) {
                    const critical = isAlgoEnd(data.sum) || isAlgoEnd(data.diff);
                    const isNow = data.time === nyCurr.time;

                    html += `
                        <div class="confluence-item ${critical ? 'algo-termination' : ''} ${isNow ? 'is-now' : ''}" id="t-${data.time}">
                            <div style="display:flex; justify-content:space-between">
                                <strong>${data.time} ${isNow ? '<span style="color:#f00;">[NOW]</span>' : ''}</strong>
                                <span style="font-size:0.7em; color:#888;">NY</span>
                            </div>
                            <div style="font-size:0.8em; margin-top:5px;">
                                Sum: <span class="${isGB(data.sum)?'gb':'ce'}">${data.sum}</span> | 
                                Diff: <span class="${isGB(data.diff)?'gb':'ce'}">${data.diff}</span>
                                ${critical ? ' <b style="color:#f00;">[TERMINATION]</b>' : ''}
                            </div>
                        </div>`;
                }
            }
            list.innerHTML = html;
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ«
        setInterval(update, 60000); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
        update();
    </script>
</body>
</html>
