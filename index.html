<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced GB/CE Algo Termination Tracker</title>
    <style>
        /* Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³ØªØ§ÙŠÙ„Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© ÙƒÙ…Ø§ Ù‡ÙŠ Ø¯ÙˆÙ† Ø§Ø®ØªØµØ§Ø± */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; overflow: auto; }
        body { font-family: 'Courier New', monospace; background: #000; color: #0f0; min-height: 100vh; display: flex; flex-direction: column; }
        .matrix-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(0deg, transparent 24%, rgba(0, 255, 0, .05) 25%, rgba(0, 255, 0, .05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 0, .05) 75%, rgba(0, 255, 0, .05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(0, 255, 0, .05) 25%, rgba(0, 255, 0, .05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 0, .05) 75%, rgba(0, 255, 0, .05) 76%, transparent 77%, transparent); background-size: 50px 50px; z-index: -1; animation: matrix-move 20s linear infinite; }
        @keyframes matrix-move { 0% { background-position: 0 0; } 100% { background-position: 50px 50px; } }
        .header { text-align: center; padding: 15px; background: rgba(0, 0, 0, 0.9); border-bottom: 2px solid #0f0; box-shadow: 0 0 20px rgba(0, 255, 0, 0.5); }
        h1 { font-size: clamp(1.2em, 4vw, 2em); text-shadow: 0 0 10px #0f0; margin-bottom: 10px; animation: glow-pulse 2s ease-in-out infinite; }
        @keyframes glow-pulse { 0%, 100% { text-shadow: 0 0 10px #0f0; } 50% { text-shadow: 0 0 20px #0f0, 0 0 30px #0f0; } }
        .visitor-counter-compact { background: #000; border: 1px solid #0f0; padding: 8px 12px; font-size: 11px; display: inline-block; margin-left: 20px; vertical-align: middle; }
        .main-container { display: flex; flex: 1; padding: 20px; gap: 20px; overflow: auto; flex-direction: column; }
        @media (min-width: 1024px) { .main-container { flex-direction: row; } }
        .left-panel { flex: 1; display: flex; flex-direction: column; gap: 20px; }
        .right-panel { width: 100%; display: flex; flex-direction: column; gap: 20px; }
        @media (min-width: 1024px) { .right-panel { width: 450px; } }
        .time-display, .algo-status, .confluence-meter, .reference-numbers, .upcoming-confluences { background: rgba(0, 0, 0, 0.95); border: 2px solid #0f0; border-radius: 10px; padding: 15px; }
        .timezone-row { display: flex; justify-content: space-between; align-items: center; padding: 10px; margin: 8px 0; background: rgba(0, 20, 0, 0.8); border: 1px solid #0f0; border-radius: 5px; }
        .time-value { font-size: 1.5em; font-weight: bold; color: #fff; }
        .analysis-value { font-weight: bold; color: #0ff; }
        .analysis-value.gb { color: #0f0; }
        .analysis-value.ce { color: #ff0; }
        .path-num { padding: 3px 8px; background: rgba(0, 50, 0, 0.5); border: 1px solid #0f0; border-radius: 3px; font-size: 0.85em; }
        .path-num.active { background: #ffa500; color: #000; }
        .confluence-item { padding: 10px; margin: 5px 0; background: rgba(0, 50, 0, 0.5); border-left: 3px solid #0f0; font-size: 0.85em; }
        .confluence-item.algo-termination { border-left-color: #f00; background: rgba(255,0,0,0.1); }
        .confluence-item.is-now { border: 1px solid #0f0; box-shadow: 0 0 10px #0f0; background: rgba(0,255,0,0.1); }
        .num { padding: 2px 5px; margin: 2px; border-radius: 3px; font-size: 0.8em; display: inline-block; }
        .num.gb { border: 1px solid #0f0; color: #0f0; }
        .num.ce { border: 1px solid #ff0; color: #ff0; }
        .num.critical { background: #f00; color: #fff; border: 1px solid #f00; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
    </style>
</head>
<body>
    <div class="matrix-bg"></div>
    <div class="header">
        <h1>ğŸ”® GB/CE ALGO TERMINATION TRACKER ğŸ”®</h1>
        <div id="live-clock">
            <span id="live-time" style="color:#ff0; font-size:1.2em;">--:--:--</span> <span style="color:#0f0;">LIVE â—</span>
            <div class="visitor-counter-compact">
                TOTAL: <span id="totalCount">0000</span> | ONLINE: <span id="onlineCount">00</span>
            </div>
        </div>
    </div>

    <div class="main-container">
        <div class="left-panel">
            <div class="time-display">
                <h3>â° DUAL TIME SYSTEM ANALYSIS</h3>
                <div class="timezone-row">
                    <div>NEW YORK: <span id="ny-time" class="time-value">--:--</span></div>
                    <div>Sum: <span id="ny-sum" class="analysis-value">--</span> | Diff: <span id="ny-diff" class="analysis-value">--</span></div>
                </div>
                <div class="timezone-row">
                    <div>ZURICH: <span id="zh-time" class="time-value">--:--</span></div>
                    <div>Sum: <span id="zh-sum" class="analysis-value">--</span> | Diff: <span id="zh-diff" class="analysis-value">--</span></div>
                </div>
            </div>

            <div class="algo-status">
                <h3>ğŸ¯ ALGORITHM PATHS</h3>
                <div style="margin-bottom:10px;">
                    <p style="font-size:0.8em; color:#0ff; margin-bottom:5px;">ALGO 1 PATH</p>
                    <div id="path1">0/100 â†’ 11/89 â†’ 59/41 â†’ 97/3 â†’ 83/17 â†’ 29/71</div>
                </div>
                <div>
                    <p style="font-size:0.8em; color:#0ff; margin-bottom:5px;">ALGO 2 PATH</p>
                    <div id="path2">3/97 â†’ 41/59 â†’ 17/83 â†’ 89/11 â†’ 53/47 â†’ 71/29</div>
                </div>
            </div>

            <div class="reference-numbers">
                <h3>ğŸ“– REFERENCE NUMBERS</h3>
                <div style="margin-bottom:10px;">
                    <span class="num gb">GB: 0, 3, 11, 17, 29, 41, 47, 50, 53, 59, 71, 83, 89, 97, 100</span>
                </div>
                <div>
                    <span class="num ce">CE: 7, 14, 23, 35, 44, 56, 65, 77</span>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <div class="upcoming-confluences" style="max-height: 85vh; overflow-y: auto;">
                <h3>âš¡ FULL DAY ALGO SCANNER (00:00-23:59)</h3>
                <div id="full-day-list">
                    </div>
            </div>
        </div>
    </div>

    <script>
        const gbNumbers = [0, 3, 11, 17, 29, 41, 47, 50, 53, 59, 71, 83, 89, 97, 100];
        const ceNumbers = [7, 14, 23, 35, 44, 56, 65, 77];
        const algoEnd = [29, 35, 71, 77];

        const isGB = n => gbNumbers.includes(Math.abs(n));
        const isCE = n => ceNumbers.includes(Math.abs(n));
        const isAlgoEnd = n => algoEnd.includes(Math.abs(n));

        function getAnalysis(date, tz) {
            const options = { timeZone: tz, hour: '2-digit', minute: '2-digit', hour12: false };
            const parts = new Intl.DateTimeFormat('en-GB', options).formatToParts(date);
            const h = parseInt(parts.find(p => p.type === 'hour').value);
            const m = parseInt(parts.find(p => p.type === 'minute').value);
            return { h, m, sum: h + m, diff: Math.abs(m - h), time: `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}` };
        }

        function update() {
            const now = new Date();
            document.getElementById('live-time').textContent = now.toLocaleTimeString('en-GB');

            // Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù†ÙŠÙˆÙŠÙˆØ±Ùƒ ÙˆØ²ÙŠÙˆØ±Ø®
            const ny = getAnalysis(now, 'America/New_York');
            const zh = getAnalysis(now, 'Europe/Zurich');

            document.getElementById('ny-time').textContent = ny.time;
            document.getElementById('ny-sum').textContent = ny.sum;
            document.getElementById('ny-sum').className = `analysis-value ${isGB(ny.sum) ? 'gb' : (isCE(ny.sum) ? 'ce' : '')}`;
            document.getElementById('ny-diff').textContent = ny.diff;

            document.getElementById('zh-time').textContent = zh.time;
            document.getElementById('zh-sum').textContent = zh.sum;
            document.getElementById('zh-sum').className = `analysis-value ${isGB(zh.sum) ? 'gb' : (isCE(zh.sum) ? 'ce' : '')}`;
            document.getElementById('zh-diff').textContent = zh.diff;

            // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙŠÙˆÙ… ÙƒØ§Ù…Ù„ (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø£Ùˆ Ø¹Ù†Ø¯ ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©)
            if (now.getSeconds() === 0 || document.getElementById('full-day-list').innerHTML === "") {
                let html = "";
                // Ø§Ù„Ù…Ø³Ø­ Ù…Ù† Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© 0 Ø¥Ù„Ù‰ 1439 (Ø§Ù„ÙŠÙˆÙ… ÙƒØ§Ù…Ù„)
                for (let i = 0; i < 1440; i++) {
                    let d = new Date();
                    d.setHours(0, 0, 0, 0);
                    d.setMinutes(i);
                    
                    const scanNy = getAnalysis(d, 'America/New_York');
                    const scanZh = getAnalysis(d, 'Europe/Zurich');

                    // ÙØ­Øµ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ ØªÙ‚Ø§Ø·Ø¹ ÙÙŠ Ù†ÙŠÙˆÙŠÙˆØ±Ùƒ Ø£Ùˆ Ø²ÙŠÙˆØ±Ø®
                    if (isGB(scanNy.sum) || isCE(scanNy.sum) || isGB(scanNy.diff) || isCE(scanNy.diff) || isGB(scanZh.sum) || isCE(scanZh.sum)) {
                        const critical = isAlgoEnd(scanNy.sum) || isAlgoEnd(scanNy.diff) || isAlgoEnd(scanZh.sum);
                        const isNow = scanNy.time === ny.time;
                        
                        html += `
                        <div class="confluence-item ${critical ? 'algo-termination' : ''} ${isNow ? 'is-now' : ''}">
                            <div style="display:flex; justify-content:space-between">
                                <strong>${scanNy.time} NY | ${scanZh.time} ZH</strong>
                                <span>${isNow ? '[CURRENT]' : ''}</span>
                            </div>
                            <div style="font-size:0.8em; margin-top:5px;">
                                NY Sum: <span class="${isGB(scanNy.sum)?'gb':'ce'}">${scanNy.sum}</span> | 
                                Diff: <span class="${isGB(scanNy.diff)?'gb':'ce'}">${scanNy.diff}</span>
                                ${critical ? ' <b style="color:#f00; animation:blink 1s infinite;">[ALGO END]</b>' : ''}
                            </div>
                        </div>`;
                    }
                }
                document.getElementById('full-day-list').innerHTML = html;
            }
        }

        // Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙˆØ§Ø± (Ù…Ø­Ø§ÙƒØ§Ø© ÙƒÙ…Ø§ ÙÙŠ ÙƒÙˆØ¯Ùƒ)
        document.getElementById('totalCount').textContent = Math.floor(Math.random() * 5000 + 1200);
        document.getElementById('onlineCount').textContent = Math.floor(Math.random() * 12 + 5);

        setInterval(update, 1000);
        update();
    </script>
</body>
</html>
